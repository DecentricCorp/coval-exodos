<html>
    <head>
        <script src="//cdn.pubnub.com/sdk/javascript/pubnub.4.5.0.js"></script>
        <script>
            var pubnub = new PubNub({
                subscribeKey: "sub-c-9fc431ea-0a55-11e7-930d-02ee2ddab7fe",
                publishKey: "myPublishKey",
                ssl: true
            })
            //function init() {
                pubnub.subscribe({
                    channels: ['swap'],
                    withPresence: false // also subscribe to presence instances.
                })
                pubnub.addListener({    
                    message: function(m) {
                        // handle message
                        var channelName = m.channel; // The channel for which the message belongs
                        var channelGroup = m.subscription; // The channel group or wildcard subscription match (if exists)
                        var pubTT = m.timetoken; // Publish timetoken
                        var msg = m.message; // The Payload
                        console.log(channelName, channelGroup, pubTT, msg  )
                    }
                })
                console.log("loaded", pubnub)
            //}
        </script>
    </head>
    <body></body>
</html>